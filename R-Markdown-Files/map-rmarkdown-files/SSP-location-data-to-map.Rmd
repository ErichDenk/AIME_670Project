---
title: "SSP data to map"
author: "Ann Marie"
date: "4/19/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
require(here)
require(tidyverse)
require(zipcode)
```


```{r}
sspDat <- read.csv(here("Active-data-sets/SSP-Location-Data")) %>%
  mutate(city = as.character(City), state = as.character(State)) %>%
  select(X, city, state)
```

```{r}
data(zipcode.civicspace)
zip <- zipcode.civicspace %>% 
  select(city, state, latitude, longitude) %>% 
  distinct(.) 

zip <- zip[!duplicated(zip[c("city","state")]),]


sspCoord <- right_join(zip, sspDat, by = c("city", "state")) %>%
  na.omit(.) %>% 
  filter(., state !="HI", state != "PR", state != "AK") %>%
  select(., state, latitude, longitude) 

#should be 237, but only 222 were recognized by the zip package. lost 6%... will revisit if time. 
# took out AK, HI, PR for mapping ease... will revisit this if time as well
write.csv(sspCoord, here("Active-data-sets/sspLocationLatLong.csv"))



```

